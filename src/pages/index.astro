---
import Layout from "@/layouts/Layout.astro";
import { site, experiences } from "@/data/site.config";

const projectFiles = import.meta.glob("../content/projects/*.md", {
  eager: true,
});
const projects = Object.values(projectFiles) as any[];

const skillTags = [
  "Playwright",
  "TypeScript",
  "CI/CD",
  "API Testing",
  "Selenium",
  "Jest",
  "E2E Automation",
  "Quality Engineering",
];

const showGallery = false; // Set to true once you've added your real photos
const galleryColumns = [
  {
    images: [
      {
        src: "/images/gallery/diving.png",
        alt: "Diving",
        aspect: "aspect-square",
      },
      {
        src: "/images/gallery/meetup.png",
        alt: "Meetup",
        aspect: "aspect-square",
      },
      {
        src: "/images/gallery/bootcamp.png",
        alt: "Bootcamp",
        aspect: "aspect-[3/4]",
      },
    ],
  },
  {
    images: [
      {
        src: "/images/gallery/hackathon.png",
        alt: "Hackathon",
        aspect: "aspect-square",
      },
      {
        src: "/images/gallery/camel.png",
        alt: "Camel",
        aspect: "aspect-[3/4]",
      },
      {
        src: "/images/gallery/canyon.png",
        alt: "Canyon",
        aspect: "aspect-square",
      },
    ],
  },
  {
    images: [
      {
        src: "/images/gallery/workshop.png",
        alt: "Workshop",
        aspect: "aspect-square",
      },
      {
        src: "/images/gallery/workspace.png",
        alt: "Workspace",
        aspect: "aspect-square",
      },
      {
        src: "/images/gallery/pyramid.png",
        alt: "Pyramid",
        aspect: "aspect-[3/4]",
      },
    ],
  },
];

const icons = {
  home: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"Sekarang, mulai sesi coaching pertama. Saya adalah client-mu yang ingin stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>`,
  user: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>`,
  work: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>`,
  mail: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>`,
  sun: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>`,
  moon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>`,
  github: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>`,
  linkedin: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>`,
  twitter: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>`,
  arrow: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 7h10v10"/><path d="M7 17 17 7"/></svg>`,
  camera: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>`,
  star: `<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`,
};

const skillIcons: Record<string, string> = {
  Playwright: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M21.579 17.55c-.244-.244-.582-.259-1.012-.047-1.15.567-2.457.88-3.83.88-4.82 0-8.728-3.908-8.728-8.728s3.908-8.728 8.728-8.728c1.373 0 2.68.313 3.83.88.43.212.768.197 1.012-.047l.024-.024c.256-.256.241-.667-.091-.941A11.936 11.936 0 0 0 16.737.127C10.124.127 4.75 5.501 4.75 12.114s5.374 11.987 11.987 11.987c2.31 0 4.464-.654 6.294-1.785.333-.205.412-.616.156-.932l-.608-.834zM16.737 18.228a6.114 6.114 0 1 1 0-12.228 6.114 6.114 0 0 1 0 12.228z"/></svg>`,
  TypeScript: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0H1.125zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-.814-.147 4.502 4.502 0 0 0-.79-.081c-.422 0-.766.038-1.033.114a1.59 1.59 0 0 0-.756.405c-.198.19-.297.462-.297.818 0 .285.064.516.193.694.129.177.332.327.608.45.276.122.645.234 1.107.336l.913.201c.717.155 1.282.33 1.696.525.414.195.772.463 1.074.805.302.342.525.76.67 1.25.145.49.217 1.066.217 1.728 0 .809-.126 1.488-.378 2.037a3.86 3.86 0 0 1-1.047 1.396c-.463.355-1.026.62-1.688.795-.662.175-1.403.262-2.222.262-.809 0-1.527-.067-2.155-.2a9.14 9.14 0 0 1-1.742-.519v-2.603a9.23 9.23 0 0 0 .814.475 7.114 7.114 0 0 0 .973.342c.365.097.742.17 1.13.22.388.05.775.075 1.161.075.467 0 .85-.045 1.151-.136.3-.09.525-.224.675-.401.15-.177.225-.418.225-.722 0-.29-.068-.53-.205-.72a1.868 1.868 0 0 0-.63-.487c-.287-.14-.68-.28-1.18-.42l-.844-.225a6.45 6.45 0 0 1-1.554-.525 3.39 3.39 0 0 1-1.101-.885c-.29-.36-.435-.86-.435-1.5 0-.726.136-1.332.408-1.815.272-.483.649-.871 1.13-1.164.481-.292 1.054-.499 1.72-.62a9.098 9.098 0 0 1 1.63-.182zM4.031 9.938h7.938v2.344H8.063v11.719H5.219V12.281H2.406V9.938z"/></svg>`,
  "CI/CD": `<svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>`,
  "API Testing": `<svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>`,
  Selenium: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M22.95 21.36h-1.63L19.45 18H11l-1.87 3.36H7.5l7-12.63h1.45l7 12.63zM18.33 16l-3.08-5.54L12.17 16h6.16zM4.14 17.5l1.45.8V21.36h-2.9v-3.06l1.45-.8zM2.69 2.64v3.06l1.45.8V17.5h-2.9V6.5h1.45V2.64z"/></svg>`,
  Jest: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M21.154 24a2.831 2.831 0 0 1-2.029-.834l-5.694-5.694a.519.519 0 0 1-.151-.363.515.515 0 0 1 .151-.365l.394-.393a.515.515 0 0 1 .364-.15.52.52 0 0 1 .366.15l5.694 5.694c.54.539 1.488.539 2.028 0a1.435 1.435 0 0 0 0-2.028l-5.694-5.694a.516.516 0 0 1-.151-.365.518.518 0 0 1 .151-.363l6.087-6.088c.54-.539.54-1.487 0-2.028a1.434 1.434 0 0 0-2.028 0l-6.087 6.088a.519.519 0 0 1-.366.15.515.515 0 0 1-.364-.15l-.394-.4a.515.515 0 0 1-.151-.363.519.519 0 0 1 .151-.366l5.694-5.694a2.832 2.832 0 1 1 4.057 3.97l-6.088 6.087a.514.514 0 0 1-.365.15.519.519 0 0 1-.363-.15l-5.694-5.694a1.434 1.434 0 0 0-2.028 0c-.559.56-.559 1.468 0 2.028l5.694 5.694a.516.516 0 0 1 .151.365.522.522 0 0 1-.151.363l-.394.394a.516.516 0 0 1-.365.15.519.519 0 0 1-.364-.15l-5.694-5.694a1.435 1.435 0 0 0-2.028 2.028 2.838 2.838 0 0 1 2.03.834h2.027l5.694-5.694a.521.521 0 0 1 .366-.15.513.513 0 0 1 .363.15l.394.394c.101.1.151.233.151.365a.52.52 0 0 1-.151.364l-5.694 5.694a2.833 2.833 0 1 1-4.058-3.969l6.088-6.088a.514.514 0 0 1 .365-.15.518.518 0 0 1 .363.15l.394.394c.101.102.151.234.151.366a.513.513 0 0 1-.151.363l-5.694 5.694a1.434 1.434 0 0 0 2.028 2.028l5.694-5.694a.52.52 0 0 1 .365-.15.515.515 0 0 1 .364.151l6.088 6.087a2.868 2.868 0 0 1 0 4.058c-1.121 1.12-2.938 1.12-4.057 0z"/></svg>`,
  "E2E Automation": `<svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4M12 8v8"/></svg>`,
  "Quality Engineering": `<svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`,
  Cypress: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 21.6c-5.302 0-9.6-4.298-9.6-9.6s4.298-9.6 9.6-9.6 9.6 4.298 9.6 9.6-4.298 9.6-9.6 9.6zm4.8-14.4c1.325 0 2.4 1.075 2.4 2.4s-1.075 2.4-2.4 2.4-2.4-1.075-2.4-2.4 1.075-2.4 2.4-2.4z"/></svg>`,
  Appium: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-13h2v10h-2V7zm0-3h2v2h-2V4z"/></svg>`,
  Espresso: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 3c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7z"/></svg>`,
  Detox: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 0L24 12L12 24L0 12L12 0ZM12 4.8L4.8 12L12 19.2L19.2 12L12 4.8Z"/></svg>`,
  Postman: `<svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm-1 3v6h2V7h-2zm0 8v2h2v-2h-2z"/></svg>`,
};
---

<Layout>
  <div class="scroll-progress" id="scroll-progress" aria-hidden="true"></div>
  <div class="custom-cursor" id="custom-cursor" aria-hidden="true"></div>

  <!-- Floating Dock -->
  <nav class="floating-dock" id="floating-dock" aria-label="Page navigation">
    <a href="#" class="dock-btn active" data-section="hero" aria-label="Home">
      <Fragment set:html={icons.home} />
    </a>
    <a href="#about" class="dock-btn" data-section="about" aria-label="About">
      <Fragment set:html={icons.user} />
    </a>
    <a href="#work" class="dock-btn" data-section="work" aria-label="Work">
      <Fragment set:html={icons.work} />
    </a>
    <a
      href="#experience"
      class="dock-btn"
      data-section="experience"
      aria-label="Experience"
    >
      <Fragment set:html={icons.star} />
    </a>
    <a
      href="#contact"
      class="dock-btn"
      data-section="contact"
      aria-label="Contact"
    >
      <Fragment set:html={icons.mail} />
    </a>
    <div class="dock-divider" aria-hidden="true"></div>
    <button class="dock-btn" id="theme-toggle" aria-label="Toggle theme">
      <span class="dark:hidden" set:html={icons.sun}></span>
      <span class="hidden dark:block" set:html={icons.moon}></span>
    </button>
  </nav>

  <main class="w-full max-w-[624px] mx-auto px-6">
    <!-- Hero -->
    <section id="hero" class="relative pt-16 pb-2 md:pt-20 md:pb-2">
      <div class="hero-geometric hero-geometric--circle" aria-hidden="true">
      </div>
      <div class="hero-geometric hero-geometric--line" aria-hidden="true"></div>

      <div class="w-full text-left">
        <h1
          class="text-[40px] md:text-[48px] font-extrabold leading-[1.05] tracking-[-0.03em] mb-4 fade-in fade-in-delay-1"
        >
          <span class="text-gradient">hi, i'm {site.author.toLowerCase()}</span>
          <span class="inline-block waving-hand">üëãüèΩ</span>
        </h1>
        <p
          class="text-[15px] leading-[1.75] text-[var(--foreground-secondary)] max-w-[480px] mb-4 fade-in fade-in-delay-3"
        >
          Software Quality Assurance Engineer with 1+ years of experience who
          loves breaking things, helping teams ship high quality software, and
          automating the boring stuff.
        </p>
        <div class="currently-indicator fade-in fade-in-delay-4">
          <span>Currently: Building test automation at</span>
          <a href="#work">scale for modern web products</a>
          <span set:html={icons.arrow}></span>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="pt-0 pb-8 scroll-reveal">
      <h2 class="text-[16px] font-bold text-[var(--foreground-primary)] mb-1.5">
        About
      </h2>
      <div
        class="space-y-3 text-[15px] leading-[1.75] text-[var(--foreground-secondary)]"
      >
        <p>
          Since early 2023, I‚Äôve focused on building robust testing
          infrastructures that help teams ship faster with confidence. I‚Äôve
          spent my time <a href="#" class="link-sophisticated"
            >mastering automation fundamentals</a
          >, <a href="#" class="link-sophisticated"
            >interning at tech companies</a
          >, and <a href="#" class="link-sophisticated"
            >architecting frameworks</a
          > that ensure software reliability at scale.
        </p>
      </div>

      <!-- Photo Grid - Replace images in /public/images/gallery/ -->
      {
        showGallery && (
          <div class="grid grid-cols-3 gap-3 mt-6">
            {galleryColumns.map((col) => (
              <div class="flex flex-col gap-3">
                {col.images.map((img) => (
                  <div
                    class={`rounded-xl overflow-hidden group cursor-none ${img.aspect}`}
                  >
                    <img
                      src={img.src}
                      alt={img.alt}
                      class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700 ease-in-out scale-100 group-hover:scale-105"
                      loading="lazy"
                    />
                  </div>
                ))}
              </div>
            ))}
          </div>
        )
      }
    </section>

    <!-- Projects -->
    <section id="work" class="py-8 scroll-reveal">
      <div class="mb-6">
        <h2
          class="text-[16px] font-bold text-[var(--foreground-primary)] mb-1.5"
        >
          Projects
        </h2>
        <h3
          class="text-[28px] md:text-[34px] font-extrabold mb-2 tracking-[-0.02em] leading-[1.1]"
        >
          i like to break things
        </h3>
        <p
          class="text-[13px] text-[var(--foreground-muted)] max-w-sm leading-[1.7]"
        >
          Testing projects from automation frameworks to API testing tools. Here
          are a few favorites.
        </p>
      </div>

      <div class="space-y-1.5">
        {
          projects.map((project) => (
            <a
              href={project.frontmatter.links?.[0]?.url || "#"}
              class="project-card"
              target="_blank"
              rel="noopener noreferrer"
            >
              <div class="flex justify-between items-start gap-4 mb-1.5">
                <h3 class="text-[15px] font-semibold project-title">
                  {project.frontmatter.title}
                </h3>
                <span class="text-[10px] text-[var(--foreground-muted)] font-mono shrink-0 mt-0.5">
                  {project.frontmatter.period}
                </span>
              </div>
              <p class="text-[13px] text-[var(--foreground-muted)] leading-[1.6] mb-2">
                {project.frontmatter.description}
              </p>
              <div class="flex flex-wrap gap-1">
                {project.frontmatter.tech.slice(0, 4).map((tech: string) => (
                  <span class="text-[10px] font-medium text-[var(--foreground-muted)] px-2 py-0.5 rounded-full border border-[var(--border-color)]">
                    {tech}
                  </span>
                ))}
              </div>
            </a>
          ))
        }
      </div>
    </section>

    <!-- Experience -->
    <section id="experience" class="py-10 scroll-reveal">
      <h2 class="text-[16px] font-bold text-[var(--foreground-primary)] mb-1.5">
        The Journey
      </h2>
      <h3
        class="text-[28px] md:text-[34px] font-extrabold mb-8 tracking-[-0.02em] leading-[1.1]"
      >
        where i've been making impact
      </h3>

      <div class="space-y-8" id="experience-container">
        {
          experiences.map((exp, index) => (
            <div
              class={`experience-item relative pl-6 before:content-[''] before:absolute before:left-0 before:top-2 before:bottom-0 before:w-px before:bg-[var(--border-color)] group ${
                index >= 3 ? "hidden opacity-0 translate-y-4" : ""
              }`}
            >
              <div class="absolute left-[-4px] top-2 w-2 h-2 rounded-full bg-[var(--border-color)] group-hover:bg-[var(--foreground-primary)] transition-colors" />
              <div class="flex justify-between items-start gap-4 mb-2">
                <div>
                  <h4 class="text-[16px] font-bold text-[var(--foreground-primary)]">
                    {exp.role} @ {exp.company}
                  </h4>
                  <div class="flex items-center gap-2 mt-0.5">
                    <p class="text-[13px] text-[var(--foreground-muted)] font-mono">
                      {exp.period}
                    </p>
                    {exp.type && (
                      <>
                        <span class="text-[10px] text-[var(--border-color)]">
                          ‚Ä¢
                        </span>
                        <p class="text-[12px] text-[var(--foreground-muted)] font-medium uppercase tracking-wider">
                          {exp.type}
                        </p>
                      </>
                    )}
                  </div>
                </div>
              </div>
              <ul class="space-y-2">
                {exp.description.map((item) => (
                  <li class="text-[14px] leading-[1.6] text-[var(--foreground-secondary)] relative pl-4 before:content-['‚Üí'] before:absolute before:left-0 before:text-[var(--foreground-muted)] before:text-[10px] before:top-1">
                    {item}
                  </li>
                ))}
              </ul>
            </div>
          ))
        }
      </div>

      {
        experiences.length > 3 && (
          <button
            id="see-all-experience"
            class="mt-10 px-4 py-2 text-[12px] font-bold tracking-widest text-[var(--foreground-muted)] border border-[var(--border-color)] rounded-full hover:text-[var(--foreground-primary)] hover:border-[var(--foreground-primary)] transition-all flex items-center gap-2 group mx-auto"
          >
            <span>see all experiences.</span>
            <svg
              class="w-3.5 h-3.5 group-hover:translate-x-0.5 transition-transform"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M5 12h14m-7-7 7 7-7 7" />
            </svg>
          </button>
        )
      }

      <!-- Skill Tags -->
      <div class="mt-12 border-t border-[var(--border-color)] pt-10">
        <h2
          class="text-[16px] font-bold text-[var(--foreground-primary)] mb-1.5"
        >
          Skills
        </h2>
        <h3
          class="text-[28px] md:text-[34px] font-extrabold mb-8 tracking-[-0.02em] leading-[1.1]"
        >
          technical stack.
        </h3>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- Web UI Automation -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><rect x="3" y="3" width="18" height="18" rx="2"></rect><path
                  d="M3 9h18"></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Web UI Automation</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                [
                  "Selenium WebDriver",
                  "Playwright",
                  "Cypress",
                  "WebdriverIO",
                ].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Mobile Automation -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><rect x="5" y="2" width="14" height="20" rx="2"></rect><line
                  x1="12"
                  y1="18"
                  x2="12"
                  y2="18"></line>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Mobile Automation</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                [
                  "Appium",
                  "Espresso (Android)",
                  "XCUITest (iOS)",
                  "Detox",
                  "Maestro",
                ].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- API Testing -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path
                  d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                ></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >API Testing</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                [
                  "REST Assured",
                  "pytest + requests",
                  "Postman + Newman",
                  "Karate DSL",
                ].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Performance Testing -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Performance Testing</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["JMeter", "k6", "Gatling", "Locust", "Artillery"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- CI/CD -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline
                  points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >CI/CD</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                [
                  "Jenkins",
                  "GitHub Actions",
                  "GitLab CI",
                  "Azure DevOps",
                  "CircleCI",
                  "Travis CI",
                ].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Container & Orchestration -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path
                  d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                ></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"
                ></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Container & Orchestration</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["Docker", "Kubernetes", "Docker Compose"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Monitoring & Observability -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path d="M2 20h.01M7 20v-4M12 20v-8M17 20V8M22 4v16"></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Monitoring & Observability</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["Datadog", "New Relic", "Splunk", "ELK Stack", "Grafana"].map(
                  (t) => (
                    <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                      {t}
                    </span>
                  )
                )
              }
            </div>
          </div>

          <!-- Test Management -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                ></path><polyline points="14 2 14 8 20 8"></polyline><line
                  x1="16"
                  y1="13"
                  x2="8"
                  y2="13"></line><line x1="16" y1="17" x2="8" y2="17"
                ></line><polyline points="10 9 9 9 8 9"></polyline>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Test Management</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["TestRail", "Xray", "qTest", "Zephyr", "PractiTest"].map(
                  (t) => (
                    <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                      {t}
                    </span>
                  )
                )
              }
            </div>
          </div>

          <!-- Cloud Device Labs -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Cloud Device Labs</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                [
                  "Sauce Labs",
                  "BrowserStack",
                  "AWS Device Farm",
                  "Firebase Test Lab",
                  "LambdaTest",
                ].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Security Testing -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Security Testing</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["OWASP ZAP", "Burp Suite", "SonarQube"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Accessibility Testing -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><circle cx="12" cy="12" r="10"></circle><path
                  d="m4.93 4.93 14.14 14.14"></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Accessibility Testing</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["Axe", "Lighthouse", "Pa11y"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- Contract Testing -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path d="M9 11l3 3L22 4"></path><path
                  d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                ></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >Contract Testing</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["Pact", "Spring Cloud Contract"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>

          <!-- BDD Frameworks -->
          <div
            class="p-4 rounded-xl border border-[var(--border-color)] bg-[var(--background-warm)]/30 hover:border-[var(--foreground-primary)]/40 transition-all"
          >
            <div class="flex items-center gap-2 mb-3">
              <svg
                class="w-4 h-4 text-[var(--foreground-muted)]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                ><path
                  d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                ></path>
              </svg>
              <span
                class="text-[11px] font-bold uppercase tracking-widest text-[var(--foreground-muted)]"
                >BDD Frameworks</span
              >
            </div>
            <div class="flex flex-wrap gap-1.5">
              {
                ["Cucumber", "Behave (Python)", "SpecFlow (.NET)"].map((t) => (
                  <span class="skill-tag px-2.5 py-1 border border-[var(--border-color)] rounded-md text-[12px] font-medium hover:border-[var(--foreground-primary)] transition-all">
                    {t}
                  </span>
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="py-12 scroll-reveal">
      <h2 class="text-[16px] font-bold text-[var(--foreground-primary)] mb-1.5">
        Contact
      </h2>
      <h3
        class="text-[24px] md:text-[28px] font-extrabold mb-2 tracking-[-0.01em]"
      >
        let's connect
      </h3>
      <p
        class="text-[13px] text-[var(--foreground-muted)] mb-8 max-w-xs leading-[1.7]"
      >
        Always open to discussing testing, automation, or opportunities to grow
        together.
      </p>

      <div class="flex justify-center gap-3 mb-6">
        <a
          href={site.github}
          target="_blank"
          rel="noopener noreferrer"
          class="social-ghost"
          aria-label="GitHub"
        >
          <Fragment set:html={icons.github} />
        </a>
        <a
          href={site.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          class="social-ghost"
          aria-label="LinkedIn"
        >
          <Fragment set:html={icons.linkedin} />
        </a>
        <a
          href="https://twitter.com/theodores"
          target="_blank"
          rel="noopener noreferrer"
          class="social-ghost"
          aria-label="Twitter / X"
        >
          <Fragment set:html={icons.twitter} />
        </a>
      </div>

      <a href={`mailto:${site.email}`} class="cta-primary">
        Get in Touch
        <Fragment set:html={icons.arrow} />
      </a>
    </section>
  </main>

  <!-- Footer -->
  <footer class="py-8 text-center">
    <div class="section-divider mb-6"></div>
    <p
      class="text-[10px] text-[var(--foreground-muted)] tracking-[0.08em] uppercase"
    >
      ¬© {new Date().getFullYear()}
      {site.author} ¬∑ Built with Astro
    </p>
  </footer>
</Layout>

<script>
  const themeToggle = document.getElementById("theme-toggle");
  const html = document.documentElement;
  const savedTheme = localStorage.getItem("theme");
  const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
  if ((savedTheme || systemTheme) === "dark") html.classList.add("dark");

  themeToggle?.addEventListener("click", () => {
    html.classList.toggle("dark");
    localStorage.setItem(
      "theme",
      html.classList.contains("dark") ? "dark" : "light"
    );
  });

  const dock = document.getElementById("floating-dock");
  // Dock is now visible by default via CSS animation

  const progressBar = document.getElementById("scroll-progress") as HTMLElement;
  window.addEventListener(
    "scroll",
    () => {
      const h = document.documentElement.scrollHeight - window.innerHeight;
      if (progressBar)
        progressBar.style.width = `${h > 0 ? (window.scrollY / h) * 100 : 0}%`;
    },
    { passive: true }
  );

  const sections = document.querySelectorAll("section[id]");
  const dockBtns = document.querySelectorAll(
    ".dock-btn[data-section]"
  ) as NodeListOf<HTMLElement>;
  window.addEventListener(
    "scroll",
    () => {
      let cur = "hero";
      sections.forEach((s) => {
        if (s.getBoundingClientRect().top <= window.innerHeight * 0.4)
          cur = s.id;
      });
      dockBtns.forEach((b) =>
        b.classList.toggle("active", b.dataset.section === cur)
      );
    },
    { passive: true }
  );

  const reveals = document.querySelectorAll(".scroll-reveal");
  const obs = new IntersectionObserver(
    (entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) {
          e.target.classList.add("visible");
          obs.unobserve(e.target);
        }
      });
    },
    { threshold: 0.08, rootMargin: "0px 0px -30px 0px" }
  );
  reveals.forEach((el) => obs.observe(el));

  // Experience Expansion Logic
  const seeAllBtn = document.getElementById("see-all-experience");
  const container = document.getElementById("experience-container");

  seeAllBtn?.addEventListener("click", () => {
    const hiddenItems = container?.querySelectorAll(".experience-item.hidden");
    hiddenItems?.forEach((item, index) => {
      item.classList.remove("hidden");
      // Trigger reflow for animation
      setTimeout(() => {
        item.classList.remove("opacity-0", "translate-y-4");
        item.classList.add(
          "opacity-100",
          "translate-y-0",
          "transition-all",
          "duration-500",
          "ease-out"
        );
        (item as HTMLElement).style.transitionDelay = `${index * 100}ms`;
      }, 10);
    });
    if (seeAllBtn) seeAllBtn.style.opacity = "0";
    setTimeout(() => seeAllBtn?.remove(), 500);
  });

  const cursor = document.getElementById("custom-cursor");
  if (
    cursor &&
    !window.matchMedia("(prefers-reduced-motion: reduce)").matches &&
    window.innerWidth > 768
  ) {
    let cx = 0,
      cy = 0,
      px = 0,
      py = 0;
    document.addEventListener("mousemove", (e) => {
      cx = e.clientX;
      cy = e.clientY;
      cursor.classList.add("visible");
    });
    const tick = () => {
      px += (cx - px) * 0.15;
      py += (cy - py) * 0.15;
      cursor.style.left = `${px}px`;
      cursor.style.top = `${py}px`;
      requestAnimationFrame(tick);
    };
    tick();
    document.addEventListener("mouseleave", () =>
      cursor.classList.remove("visible")
    );
    document
      .querySelectorAll(
        "a, button, .skill-tag, .bento-cell, .social-ghost, .project-card"
      )
      .forEach((el) => {
        el.addEventListener("mouseenter", () => cursor.classList.add("hover"));
        el.addEventListener("mouseleave", () =>
          cursor.classList.remove("hover")
        );
      });
  }
</script>
